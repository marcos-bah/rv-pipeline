# Programa de Teste Simples para FPU
# Testa: load, lui, fmv.w.x, fcvt, fadd, fmul, fsw

# Valores na memória (endereços em bytes):
# 0x00: 0x0001199A (72090 em Q16.16 = 1.1 em float)
# 0x04: 0x00028000 (163840 em Q16.16 = 2.5 em float)

# Programa:
# 1. Carrega x5 = mem[0] = 0x0001199A
# 2. Carrega x6 = mem[4] = 0x00028000
# 3. Converte f1 = float(x5) = 72090.0
# 4. Converte f2 = float(x6) = 163840.0
# 5. lui x10 = 0x37800000 (2^-16)
# 6. fmv f9 = x10 (2^-16 em float)
# 7. fmul f1 = f1 * f9 (72090.0 * 2^-16 = 1.1)
# 8. fmul f2 = f2 * f9 (163840.0 * 2^-16 = 2.5)
# 9. fadd f3 = f1 + f2 (1.1 + 2.5 = 3.6)
# 10. fmul f4 = f1 * f2 (1.1 * 2.5 = 2.75)
# 11. Salva f3 em mem[20]
# 12. Salva f4 em mem[24]

# Instruções hex:
00002283    # lw x5, 0(x0)
00402303    # lw x6, 4(x0)
d002f0d3    # fcvt.s.w f1, x5
d0037153    # fcvt.s.w f2, x6
37800537    # lui x10, 0x37800
00000013    # nop
f00504d3    # fmv.w.x f9, x10
00000013    # nop
00000013    # nop
1090f0d3    # fmul.s f1, f1, f9
00000013    # nop
00000013    # nop
10917153    # fmul.s f2, f2, f9
00000013    # nop
00000013    # nop
0020f1d3    # fadd.s f3, f1, f2
00000013    # nop
00000013    # nop
10117253    # fmul.s f4, f2, f1
00000013    # nop (end)
